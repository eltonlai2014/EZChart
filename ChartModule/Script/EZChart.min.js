var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},__extends=this&&this.__extends||function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();define("Helper/JQ_AjaxAdaptor",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(r.prototype.getDescription=function(){return"[JQ_AjaxAdaptor] "+this.descroption+" "+this.initObj},r.prototype.queryInfoBlob=function(t,e,i){var o;t.URL&&(o=(new Date).getTime(),t.URL=t.URL+"?timestamp="+o),t.type||(t.type=this.initObj.type||r.DEFAULT_METHOD),t.timeout||(t.timeout=this.initObj.timeout||r.DEFAULT_TIMEOUT),r.DEBUG&&console.log(t),jQuery.ajax(t.URL,{type:t.type,timeout:t.timeout,cache:!1,data:t.data,xhr:function(){var t=new XMLHttpRequest;return t.onreadystatechange=function(){try{t.responseType="arraybuffer"}catch(t){}},t},success:e,error:i})},r.prototype.queryInfo=function(t,e,i){var o;t.URL&&(o=(new Date).getTime(),t.URL=t.URL+"?timestamp="+o),t.type||(t.type=this.initObj.type||r.DEFAULT_METHOD),t.timeout||(t.timeout=this.initObj.timeout||r.DEFAULT_TIMEOUT),r.DEBUG&&console.log(t),jQuery.ajax(t.URL,{type:t.type,timeout:t.timeout,cache:!1,data:t.data,success:e,error:i})},r.DEBUG=!0,r.DEFAULT_METHOD="GET",r.DEFAULT_TIMEOUT=2e4,r);function r(t){this.descroption=t.descroption,this.initObj=t}e.JQ_AjaxAdaptor=i}),define("Helper/BaseChart",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(u.prototype.getParamValue=function(t,e){return void 0===t||null==t?e:t},u.prototype.repaint=function(e,t){e=e||0;var i=this;try{setTimeout(function(){i.drawMain(),i.drawBgToContext(),t instanceof Function&&t("repaint("+e+") finish ")},e)}catch(t){console.log("repaint("+e+") error, "+t.message)}},u.prototype.drawBgToContext=function(t){this.mContext.clearRect(0,0,this.cWidth,this.cHeight),this.mContext.drawImage(this.mBgCanvas,0,0),this.drawFrontContext(t)},u.prototype.MeasureText=function(t,e,i,o){var r=t+":"+e+":"+i+":"+o;if("object"==typeof u.Text_Chche&&u.Text_Chche[r])return u.Text_Chche[r];var n=0;this.mBgContext&&(this.mBgContext.font=o+"pt "+i,n=this.mBgContext.measureText(t).width);var a=document.createElement("MyDIV");a.innerHTML=t,a.style.position="absolute",a.style.top="-100px",a.style.left="-100px",a.style.fontFamily=i,a.style.fontWeight=e,a.style.fontSize=o+"pt",document.body.appendChild(a);n=new s(n,Math.round(a.offsetHeight));return document.body.removeChild(a),u.Text_Chche[r]=n},u.prototype.drawRoundRect=function(t,e,i,o,r,n,a,s,h){void 0===s&&(s=!0),void 0===a&&(a=!1),void 0===n&&(n=5),h=h||1.2,t.save(),t.translate(.5,.5),t.beginPath(),t.moveTo(e+n,i),t.lineTo(e+o-n,i),t.quadraticCurveTo(e+o,i,e+o,i+n),t.lineTo(e+o,i+r-n),t.quadraticCurveTo(e+o,i+r,e+o-n,i+r),t.lineTo(e+n,i+r),t.quadraticCurveTo(e,i+r,e,i+r-n),t.lineTo(e,i+n),t.quadraticCurveTo(e,i,e+n,i),t.lineWidth=h,t.closePath(),s&&t.stroke(),a&&t.fill(),t.restore()},u.prototype.dashedLineTo=function(t,e,i,o,r,n,a){void 0===n&&(n=5),a=a||"#FFFFFF",t.save(),t.translate(.5,.5);var s=o-e,o=r-i,r=Math.floor(Math.sqrt(s*s+o*o)),h=n<=0?r:r/n,m=o/r*n,u=s/r*n;t.beginPath();for(var l=0;l<h;l++)l%2?t.lineTo(Math.round(e+l*u),Math.round(i+l*m)):t.moveTo(Math.round(e+l*u),Math.round(i+l*m));t.strokeStyle=a,t.stroke(),t.restore()},u.prototype.clearLineTo=function(t,e,i,o,r,n,a){a=a||1,n=n||"#000000",t.save(),t.translate(.5,.5),e=Math.round(e),i=Math.round(i),o=Math.round(o),r=Math.round(r),t.beginPath(),t.moveTo(e,i),t.lineTo(o,r),t.lineWidth=a,t.strokeStyle=n,t.stroke(),t.restore()},u.prototype.drawRectEx=function(t,e,i,o,r,n,a){this.clearLineTo(t,e,i,e+o,i,n,a),this.clearLineTo(t,e+o,i,e+o,i+r,n,a),this.clearLineTo(t,e+o,i+r,e,i+r,n,a),this.clearLineTo(t,e,i+r,e,i,n,a)},u.prototype.fillRectEx=function(t,e,i,o,r,n){t.beginPath(),t.rect(e,i,o,r),t.fillStyle=n,t.fill()},u.prototype.drawString=function(t,e,i,o,r,n,a,s,h){a=a||"#000000",h=h||"bottom",s=s||"left",n=n||"Arial",t.save(),t.fillStyle=a,t.font=r+"pt "+n,t.textAlign=s,t.textBaseline=h,r<=8&&(r*=2,i*=2,o*=2,t.font=r+"pt "+n,t.scale(.5,.5)),t.fillText(e,i,o);e=t.measureText(e).width;return t.restore(),e},u.prototype.drawCircle=function(t,e,i,o,r){t.save(),r=r||"#000000",t.beginPath(),t.arc(e,i,o,0,2*Math.PI,!1),t.fillStyle=r,t.fill(),t.restore()},u.prototype.getPrettyAxis=function(t,e,i){null==i&&(i=5);var o=[],r=.05*Math.abs(e-t);t<0?t-=r:0<t&&(t=Math.max(t-r,0)),0<e?e+=r:e<0&&(e=Math.min(e+r,0));for(var n=(e-t)/i,a=-1,s=0,h=0;h<u.Axis_Default.length;h++)if(n<=u.Axis_Default[h]&&(s=Math.floor(t/u.Axis_Default[h]))*u.Axis_Default[h]+u.Axis_Default[h]*(i-1)>=e){a=u.Axis_Default[h];break}if(-1==a)for(var r=Math.round(Math.max(Math.abs(t),Math.abs(e))).toString(),r=Math.pow(10,r.length-1),m=[r,1.2*r,1.5*r,2*r,2.5*r,3*r,4*r,5*r,6*r,7*r,8*r,9*r],s=0,h=0;h<m.length;h++)if(n<=m[h]&&e<(s=Math.floor(t/m[h]))*m[h]+m[h]*(i-1)){a=m[h];break}for(h=s;h<s+i;h++)o.push(h*a);return o},u.prototype.log10=function(t){return Math.log(t)/Math.LN10},u.Text_Chche={},u.Axis_Default=[.1,.2,.25,.5,.8,1,2,3,4,5,6,7,8,9,10,12,15,20,25,30,35,40,45,50,60,70,80,90,100,150,200,250,300,350,400,450,500,800,1e3,1200,1250,1500,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,12e3,15e3,2e4,25e3,3e4,4e4,5e4,6e4,7e4,8e4,9e4,1e5,12e4,15e4,2e5,25e4,5e5,1e6],u);function u(t){var i=this;this.measureSize=function(){},this.drawFrontContext=function(t){},this.mouseMove=function(t){i.mouseHandle(t)},this.mouseDown=function(t){i.mouseHandle(t)},this.mouseOut=function(t){i.mouseHandle(t)},this.mouseHandle=function(t){},this.getMousePos=function(t){var e=i.mClientRect;return{x:Math.round((t.clientX-e.left)/(e.right-e.left)*i.cWidth),y:Math.round((t.clientY-e.top)/(e.bottom-e.top)*i.cHeight)}},this.hexToRgb=function(t){t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{}},this.addComma=function(t){t=t.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},this.initObj=t;var e=this.getParamValue(t.ComponentId,"BaseChart");this.mFontType=this.getParamValue(t.FontType,"Arial, sans-serif"),this.mFontSize=this.getParamValue(t.FontSize,26),this.mBgColor=this.getParamValue(t.BgColor,"#FFFFFF"),this.mChartBgColor=this.getParamValue(t.ChartBgColor,"#FFFFFF"),this.mUseClientHeight=this.getParamValue(t.UseClientHeight,!1);t=document.querySelector("#"+e);this.mClientRect=t.getBoundingClientRect(),this.cHeight=this.mClientRect.height,this.cWidth=this.mClientRect.width,this.mUseClientHeight&&(e=document.getElementById(e),this.cHeight=e.clientHeight,this.cWidth=e.clientWidth),this.mCanvas=document.createElement("canvas"),this.mCanvas.width=this.cWidth,this.mCanvas.height=this.cHeight,this.mContext=this.mCanvas.getContext("2d"),this.mBgCanvas=document.createElement("canvas"),this.mBgCanvas.width=this.cWidth,this.mBgCanvas.height=this.cHeight,this.mBgContext=this.mBgCanvas.getContext("2d")}e.BaseChart=i;var s=function(t,e){this.Width=t,this.Height=e};e.TextObj=s;i=function(t,e,i){this.XPos=t,this.YPos=e,this.EventType=i};e.MyMouseEvent=i}),define("Helper/HashMap",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(o.prototype.put=function(t,e){this.containsKey(t)||this.size++,this.entry[t]=e},o.prototype.get=function(t){return this.containsKey(t)?this.entry[t]:null},o.prototype.remove=function(t){delete this.entry[t]&&this.size--},o.prototype.containsKey=function(t){return t in this.entry},o.prototype.containsValue=function(t){for(var e in this.entry)if(this.entry[e]==t)return!0;return!1},o.prototype.values=function(){var t,e=[];for(t in this.entry)e.push(this.entry[t]);return e},o.prototype.keys=function(){var t,e=[];for(t in this.entry)e.push(t);return e},o.prototype.getSize=function(){return this.size},o.prototype.clear=function(){return this.size=0,this.entry={},this.size},o);function o(){this.size=0,this.entry={}}e.HashMap=i}),define("Helper/AxiosAdaptor",["require","exports","./../../Script/lib/axios"],function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i=__importDefault(i);var o=(r.prototype.getDescription=function(){return"[AxiosAdaptor] "+this.descroption+" "+this.initObj},r.prototype.queryInfoBlob=function(t){var e;return t.URL&&(e=(new Date).getTime(),t.URL=t.URL+"?timestamp="+e),t.type||(t.type=this.initObj.type||r.DEFAULT_METHOD),t.timeout||(t.timeout=this.initObj.timeout||r.DEFAULT_TIMEOUT),r.DEBUG&&console.log(t),"POST"===t.type.toUpperCase()?this.userRequest.post(t.URL,null,{params:t.data,responseType:"arraybuffer"}):"GET"===t.type.toUpperCase()?this.userRequest.get(t.URL,null,{params:t.data,responseType:"arraybuffer"}):void 0},r.prototype.queryInfo=function(t){var e;return t.URL&&(e=(new Date).getTime(),t.URL=t.URL+"?timestamp="+e),t.type||(t.type=this.initObj.type||r.DEFAULT_METHOD),t.timeout||(t.timeout=this.initObj.timeout||r.DEFAULT_TIMEOUT),r.DEBUG&&console.log(t),"POST"==t.type.toUpperCase()?this.userRequest.post(t.URL,null,{params:t.data,responseType:"application/json"}):"GET"==t.type.toUpperCase()?this.userRequest.get(t.URL,null,{params:t.data,responseType:"application/json"}):void 0},r.DEBUG=!0,r.DEFAULT_METHOD="GET",r.DEFAULT_TIMEOUT=2e4,r.DEFAULT_URL="/",r);function r(t){this.descroption=t.descroption,this.initObj=t,this.userRequest=i.default.create({baseURL:this.initObj.URL||r.DEFAULT_URL})}e.AxiosAdaptor=o}),define("Helper/index",["require","exports","Helper/JQ_AjaxAdaptor","Helper/BaseChart","Helper/HashMap","Helper/AxiosAdaptor"],function(t,i,e,o,r,n){"use strict";function a(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}Object.defineProperty(i,"__esModule",{value:!0}),a(e),a(o),a(r),a(n)}),define("StockQuery",["require","exports","Helper/index"],function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=(r.prototype.queryInfo=function(t,e,i){this.aJQ_AjaxAdaptor.queryInfo(t,e,i)},r.prototype.queryInfoBlob=function(t,e,i){var o=this;try{if(t.data.GZip)return void this.aJQ_AjaxAdaptor.queryInfoBlob(t,function(t){t=new Uint8Array(t),t=new Zlib.Gunzip(t).decompress(),t=JSON.parse(o.getString(t));e instanceof Function&&e(t)},i)}catch(t){console.log(t.message)}this.aJQ_AjaxAdaptor.queryInfoBlob(t,e,i)},r.prototype.queryInfoBlob_Unzip=function(t,e,i){var o=this;this.aJQ_AjaxAdaptor.queryInfoBlob(t,function(t){t=new Uint8Array(t),t=new Zlib.Gunzip(t).decompress(),t=JSON.parse(o.getString(t));e instanceof Function&&e(t)},i)},r.prototype.getString=function(t){for(var e="",i=0,o=t.length;i<o;i++)e+=String.fromCharCode(t[i]);return e=decodeURIComponent(escape(e))},r);function r(t){this.initObj=t,this.aJQ_AjaxAdaptor=new i.JQ_AjaxAdaptor(t)}e.StockQuery=o}),define("StockChart",["require","exports","Helper/index"],function(t,e,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=(i=h.BaseChart,__extends(r,i),r.prototype.bindingEvent=function(){this.mCanvas.addEventListener("mousemove",this.mouseMove,!1)},r.prototype.setData=function(t,e){if(this.mMinRealAmt=999999999,(this.mMaxRealAmt=0)<e.length){for(var i=e[0].MktDate,o=0;o<t.length;o++)if(t[o].MktDate==i){t=t.slice(o);break}for(var r=new h.HashMap,o=0,n=e.length;o<n;o++)r.put(e[o].MktDate,e[o]);for(var a=0,o=0;o<t.length;o++){var s=r.get(t[o].MktDate);s?(a+=s.Shares,t[o].SumShares=a,t[o].SumAmt=s.Amt,0<o&&(t[o].SumAmt+=t[o-1].SumAmt)):(t[o].SumShares=t[o-1].SumShares,t[o].SumAmt=t[o-1].SumAmt),t[o].RealAmt=t[o].SumShares*t[o].CP,this.mMaxRealAmt=Math.max(this.mMaxRealAmt,t[o].RealAmt),this.mMinRealAmt=Math.min(this.mMinRealAmt,t[o].RealAmt)}}this.calMaxMin(),this.mChartData=t},r.prototype.getInvResult=function(){var t={};return 0<this.mChartData.length&&(t.SumShares=this.mChartData[this.mChartData.length-1].SumShares,t.SumAmt=this.mChartData[this.mChartData.length-1].SumAmt,t.RealAmt=this.mChartData[this.mChartData.length-1].RealAmt),t},r.prototype.drawChartArea=function(){this.drawAxis();var t=this.mChartData;console.log(t),this.mChartRectWidth=this.mChartWidth/(t.length+1),this.drawChartWithCircle(t,1,this.mInvColor,1.5),this.drawChart(t,2,this.mRealColor,2)},r.prototype.drawAxis=function(){var t="right";this.fillRectEx(this.mBgContext,0,0,this.cWidth,this.cHeight,this.mBgColor),this.fillRectEx(this.mBgContext,this.mAxisWidth,this.mTopHeight,this.mChartWidth,this.mChartHeight,this.mChartBgColor),this.mShowChartBorder&&this.drawRectEx(this.mBgContext,this.mAxisWidth,this.mTopHeight,this.mChartWidth,this.mChartHeight,"111111",1);var e=this.MeasureText(this.mTitleLabel,"normal",this.mTitleFont,this.mTitleFontSize);this.drawString(this.mBgContext,this.mTitleLabel,this.cWidth/2+e.Width/2,this.mTopHeight/2+e.Height/2,this.mTitleFontSize,this.mTitleFont,this.mAxisColor,t);for(var i=0;i<this.mAxisAmount;i++){var o=this.mChartHeight/(this.mAxisAmount+1)*(this.mAxisAmount-i)+this.mTopHeight;this.dashedLineTo(this.mBgContext,this.mAxisWidth,o,this.mChartWidth+this.mAxisWidth,o,3,this.mAxisColor),this.drawString(this.mBgContext,this.mPrettyAxis[i+1]+"",this.mAxisWidth-4,Math.round(o+this.mAxisHeight/2),this.mAxisFontSize,this.mAxisFont,this.mAxisColor,t)}e=this.mChartHeight+this.mTopHeight+this.mAxisHeight/2;this.drawString(this.mBgContext,this.mPrettyAxis[0]+"",this.mAxisWidth-4,Math.round(e),this.mAxisFontSize,this.mAxisFont,this.mAxisColor,t),e=this.mTopHeight+this.mAxisHeight/2,this.drawString(this.mBgContext,this.mPrettyAxis[this.mPrettyAxis.length-1]+"",this.mAxisWidth-4,Math.round(e),this.mAxisFontSize,this.mAxisFont,this.mAxisColor,t)},r.prototype.drawChart=function(t,e,i,o){o=o||1.5,this.mBgContext.save(),this.mBgContext.translate(.5,.5),this.mBgContext.lineWidth=o,this.mBgContext.beginPath();for(var r=0;r<t.length;r++){var n=t[r],a=this.mChartRectWidth*(r+1)+this.mAxisWidth,n=this.getYPosByType(n,e);this.mBgContext.lineTo(a,n)}this.mBgContext.strokeStyle=i,this.mBgContext.lineJoin="round",this.mBgContext.stroke(),this.mBgContext.restore()},r.prototype.drawChartWithCircle=function(t,e,i,o){o=o||1.5,this.mBgContext.save(),this.mBgContext.translate(.5,.5),this.mBgContext.lineWidth=o,this.mBgContext.beginPath();for(var r=0;r<t.length;r++){var n=t[r],a=this.mChartRectWidth*(r+1)+this.mAxisWidth,s=this.getYPosByType(n,e);this.mBgContext.lineTo(a,s)}if(this.mBgContext.strokeStyle=i,this.mBgContext.lineJoin="round",this.mBgContext.stroke(),this.mBgContext.restore(),t.length<50)for(r=0;r<t.length;r++){n=t[r],a=this.mChartRectWidth*(r+1)+this.mAxisWidth,s=this.getYPosByType(n,e);this.drawCircle(this.mBgContext,a,s,3,i)}},r.prototype.getYPosByType=function(t,e){switch(e){case 1:return this.mTopHeight+this.mChartHeight*(this.mMaxRealAmt-t.SumAmt)/(this.mMaxRealAmt-this.mMinRealAmt);case 2:return this.mTopHeight+this.mChartHeight*(this.mMaxRealAmt-t.RealAmt)/(this.mMaxRealAmt-this.mMinRealAmt);default:return 0}},r.prototype.calMaxMin=function(){this.mPrettyAxis=this.getPrettyAxis(this.mMinRealAmt,this.mMaxRealAmt,this.mAxisAmount+2),this.mMaxRealAmt=Math.max(this.mMaxRealAmt,this.mPrettyAxis[this.mPrettyAxis.length-1]),this.mMinRealAmt=Math.min(this.mMinRealAmt,this.mPrettyAxis[0]);var t=this.MeasureText(this.mPrettyAxis[this.mPrettyAxis.length-1]+"00","normal",this.mAxisFont,this.mAxisFontSize);this.mAxisWidth=t.Width,this.mChartWidth=this.cWidth-this.mAxisWidth-this.mBorderWidth},r.prototype.drawMain=function(){this.drawChartArea()},r);function r(t){var l=i.call(this,t)||this;l.mChartData={},l.mChartRectWidth=0,l.mMaxRealAmt=0,l.mMinRealAmt=0,l.mPrettyAxis=[],l.mouseHandle=function(t){var e=l.getMousePos(t),t=new h.MyMouseEvent(e.x,e.y,t.type);l.drawBgToContext(t)},l.drawFrontContext=function(t){var e,i,o,r,n,a,s,h,m,u;t&&0!=l.mChartRectWidth&&l.mChartData&&(m=Math.max(t.XPos,l.mAxisWidth),m=Math.min(t.XPos,l.mAxisWidth+l.mChartWidth),m=Math.max(t.XPos,l.mAxisWidth),e=-1,(0<l.mChartRectWidth||m<l.mAxisWidth||m>l.mAxisWidth+l.mChartRectWidth)&&(e=Math.round((m-l.mAxisWidth-l.mChartRectWidth)/l.mChartRectWidth)),0<=e&&e<l.mChartData.length&&(i=Math.round(l.mAxisWidth+(e+1)*l.mChartRectWidth),l.mShowQuoteLine&&(o=l.mChartData[e],h=l.hexToRgb(l.mRealColor),u=l.getYPosByType(o,2),l.drawCircle(l.mContext,i,u,5,"rgba("+h.r+","+h.g+","+h.b+",0.7)"),h=l.hexToRgb(l.mInvColor),u=l.getYPosByType(o,1),l.drawCircle(l.mContext,i,u,5,"rgba("+h.r+","+h.g+","+h.b+",0.7)")),r=60,n="#000000",a="#FFFFFF",s=.7,(m=i+(t=20))+(o=150)>l.mAxisWidth+l.mChartWidth-t&&(m=i-t-o),t=l.mTopHeight+l.mChartHeight/2+t,l.mContext.strokeStyle=n,h=l.hexToRgb(a),l.mContext.fillStyle="rgba("+h.r+","+h.g+","+h.b+","+s+")",l.drawRoundRect(l.mContext,m,t,o,r,7,!0),m=[Math.round(m+6),Math.round(m+20),Math.round(m+52)],u=Math.round(t+r/6+l.mAxisHeight/2),l.drawString(l.mContext,l.mChartData[e].MktDate,m[1],u,l.mAxisFontSize,l.mAxisFont,"#000000","left"),u=Math.round(t+5*r/6+l.mAxisHeight/2),l.drawCircle(l.mContext,m[0]+4,Math.round(t+5*r/6),5,l.mInvColor),l.drawString(l.mContext,"成本 ",m[1],u,l.mAxisFontSize,l.mAxisFont,"#000000","left"),l.drawString(l.mContext,l.addComma(l.mChartData[e].SumAmt.toFixed(2)),m[2],u,l.mAxisFontSize,l.mAxisFont,"#000000","left"),u=Math.round(t+3*r/6+l.mAxisHeight/2),l.drawCircle(l.mContext,m[0]+4,Math.round(t+3*r/6),5,l.mRealColor),l.drawString(l.mContext,"市值 ",m[1],u,l.mAxisFontSize,l.mAxisFont,"#000000","left"),l.drawString(l.mContext,l.addComma(l.mChartData[e].RealAmt.toFixed(2)),m[2],u,l.mAxisFontSize,l.mAxisFont,"#000000","left")))};var e=l.getParamValue(t.ComponentId,"");l.mBorderWidth=l.getParamValue(t.BorderWidth,14),l.mTopHeight=l.getParamValue(t.TopHeight,14),l.mBottomHeight=l.getParamValue(t.BottomHeight,14),l.mAxisFont=l.getParamValue(t.AxisFont,l.mFontType),l.mAxisFontSize=l.getParamValue(t.AxisFontSize,9),l.mAxisWidth=l.getParamValue(t.AxisWidth,59),l.mAxisAmount=l.getParamValue(t.AxisAmount,5),l.mAxisAmount=l.getParamValue(t.AxisAmount,5),l.mAxisColor=l.getParamValue(t.AxisColor,"#111111"),l.mTitleFont=l.getParamValue(t.TitleFont,l.mFontType),l.mTitleFontSize=l.getParamValue(t.TitleFontSize,9),l.mTitleLabel=l.getParamValue(t.TitleLabel,""),l.mShowChartBorder=l.getParamValue(t.ShowChartBorder,!1),l.mShowQuoteLine=l.getParamValue(t.ShowQuoteLine,!0),l.mQuoteLineColor=l.getParamValue(t.QuoteLineColor,"#111111"),l.mInvColor=l.getParamValue(t.InvColor,"#0000FF"),l.mRealColor=l.getParamValue(t.RealColor,"#FF0000"),document.querySelector("#"+e).appendChild(l.mCanvas),console.log(l.mClientRect);e=l.MeasureText("00000000","normal",l.mAxisFont,l.mAxisFontSize);return l.mAxisWidth=e.Width,l.mAxisHeight=e.Height,l.mChartHeight=l.cHeight-l.mTopHeight-l.mBottomHeight,l.mChartWidth=l.cWidth-l.mAxisWidth-l.mBorderWidth,l.getParamValue(t.PaintOnCreate,!1)&&l.repaint(),l.bindingEvent(),l}e.StockChart=o}),define("StockQueryEx",["require","exports","Helper/AxiosAdaptor"],function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=(r.prototype.queryInfo=function(t,e,i){this.aAxiosAdaptor.queryInfo(t).then(function(t){e instanceof Function&&e(t.data)}).catch(this.errorHandle(i)).finally(function(){})},r.prototype.errorHandle=function(o){return function(t){var e,i;o instanceof Function&&(e={},i={},t.response?e=t.response:t.request&&(e=t.request),t.message&&(i=t.message),o(e,i))}},r.prototype.queryInfoBlob=function(t,e,i){this.aAxiosAdaptor.queryInfoBlob(t).then(function(t){e instanceof Function&&e(t.data)}).catch(this.errorHandle(i)).finally(function(){})},r.prototype.queryInfoBlob_Unzip=function(t,e,i){var o=this;this.aAxiosAdaptor.queryInfoBlob(t).then(function(t){t=new Uint8Array(t.data),t=new Zlib.Gunzip(t).decompress(),t=JSON.parse(o.getString(t));e instanceof Function&&e(t)}).catch(this.errorHandle(i)).finally(function(){})},r.prototype.getString=function(t){for(var e="",i=0,o=t.length;i<o;i++)e+=String.fromCharCode(t[i]);return e=decodeURIComponent(escape(e))},r);function r(t){this.initObj=t,this.aAxiosAdaptor=new i.AxiosAdaptor(t)}e.StockQueryEx=o});